<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Gunzip</title>
	<script src="frameworks/materialize.min.js">
	</script>
	<script src="frameworks/jquery.js">
	</script>
	<link rel="stylesheet" href="frameworks/materialize.css">
</head>

<body class="waves-effect blue darken-3 waves-block waves-circle waves-blue" style="width: 100%;height: auto;">

	<header class="blue row">
		<div style="margin: 0%;width: 100%;" class="flow-text center centar-align blue lighten-3 green-text  card-header ">
			Gunzip Engine
		</div>
	</header>
	<a style="width:20%;" class="btn waves-effect lighten-1 grey left modal-trigger" href="./2d.html">Open Editor</a>
	<label style="width:20%;" class="btn right large">
        <input id="projectPicker"  type="file" single style="width:20%;display: none;" value="open Project"
            class="btn grey waves-effect darken-1 right" />
        Open Project
    </label>
    <a style="width:100%;" class="pannel  flow-text green waves-effect lighten-3">Random Projects [Every Week]</a>
    <div class="">
        <iframe style="height: 540px;width:100%;position: relative;"  src="//examples.phaser.io/embed.php?f=games/invaders.js" frameborder="0"></iframe>
    </div>

    <script>
        
       
        var picker = document.getElementById("projectPicker")
        picker.addEventListener('change', () => {
        let files = picker.files;
 
    if(files.length == 0) return;
 
    const file = files[0];
 
    let reader = new FileReader();
 
    reader.onload = (e) => {
        var file = e.target.result;
        eval(file.toString())
        document.href = "https://ed.gunzip.repl.co/2d.html"
    };
 
    reader.onerror = (e) => alert(e.target.error.name);
 
    reader.readAsText(file); 
    
});
        window.onbeforeunload = function (e) {
            e.preventDefault();
            e.returnValue = 'Really want to quit the program?';
        };
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.onkeydown = function (e) {
            e = e || window.event;

            if (!e.ctrlKey) return;

            var code = e.which || e.keyCode;

            switch (code) {
                case 83:
                case 87:
                    e.preventDefault();
                    e.stopPropagation();
                    break;
            }
        };
    </script>
</body>

</html>